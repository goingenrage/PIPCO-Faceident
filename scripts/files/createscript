CREATE TABLE IF NOT EXISTS Action(
id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
name VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS Picture(
id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
data BLOB NOT NULL,
type VARCHAR(32) NOT NULL,
filename VARCHAR(255) NOT NULL,
processed_data BLOB
);

CREATE TABLE IF NOT EXISTS Person(
id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
actionid INTEGER NOT NULL,
name VARCHAR(255) NOT NULL,
FOREIGN KEY(actionid) REFERENCES Action(id)
);

CREATE TABLE IF NOT EXISTS PersonPicture(
id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
personid INTEGER NOT NULL,
pictureid INTEGER NOT NULL,
FOREIGN KEY(personid) REFERENCES Person(id),
FOREIGN KEY(pictureid) REFERENCES Picture(id)
);
